const translations = {
    fr: {
        "nav.service": "Nos forfaits",
        "nav.guide": "Guide candidat",
        "nav.gestion": "Gestion",
        "nav.recruiter": "Espace Recruteur",
        "nav.candidate": "Espace Candidat",
        "nav.login": "Se connecter",
        "nav.logout": "Se déconnecter",

        "hero.title": "L'entrevue de présélection <br><span class=\"highlight\">simplifiée</span> pour tous.",
        "hero.subtitle": "Gagnez du temps sur vos recrutements. Invitez les candidats à des entrevues de présélection en vidéo, recevez leurs réponses, et choisissez les meilleurs talents en quelques minutes.",
        "hero.cta.start": "Commencer maintenant",
        "hero.cta.demo": "Voir la démo",
        "hero.trust": "+2000 recruteurs nous font confiance",

        "stats.faster": "Plus rapide",
        "stats.matches": "Meilleurs matchs",
        "stats.video": "Entrevues de présélection",

        "benefits.title": "Pourquoi passer à la vidéo ?",
        "benefits.subtitle": "Une méthode moderne pour des recrutements plus humains et efficaces.",

        "benefit.1.title": "Entrevue de présélection en vidéo",
        "benefit.1.text": "Définissez 3 questions clés. Les candidats y répondent en vidéo dans le cadre d'une entrevue de présélection, vous permettant de juger l'aisance et le fit culturel immédiatement.",

        "benefit.2.title": "Gain de Temps",
        "benefit.2.text": "Plus besoin d'appeler 50 candidats. Visionnez les réponses à votre rythme et ne convoquez que les profils qui vous ont convaincu.",

        "benefit.3.title": "Collaboration RH",
        "benefit.3.text": "Partagez les profils vidéo avec vos managers en un clic. Prenez des décisions collégiales basées sur du concret, pas du papier.",

        "preview.title": "Découvrez l’expérience",
        "preview.subtitle": "Dashboard employeur : shortlist en un clin d’œil",

        "card.1.title": "Gestion centralisée",
        "card.1.text": "Visualisez tous vos candidats en un coup d'œil.",
        "card.2.title": "Lecteur intuitif",
        "card.2.text": "Visionnez, annotez et évaluez les réponses vidéo.",
        "card.3.title": "Données de recrutement",
        "card.3.text": "Suivez vos KPIs et optimisez votre processus.",

        "footer.service": "Nos forfaits",
        "footer.guide": "Guide candidat",
        "footer.legal": "Légal",
        "footer.privacy": "Politique de confidentialité",
        "footer.terms": "Conditions d’utilisation",
        "footer.contact": "Contact",
        "footer.rights": "Tous droits réservés.",
        "footer.proudly": "❤️<br>Fièrement humain",

        "pricing.title": "Identifiez le candidat parfait sans perdre une seconde.",
        "pricing.subtitle": "Des tarifs simples et transparents pour moderniser votre processus de recrutement. Commencez gratuitement, évoluez selon vos besoins.",

        "pricing.card.free.title": "Découverte",
        "pricing.card.free.desc": "Pour essayer sans risque",
        "pricing.card.free.feat.1": "1 Affichage actif",
        "pricing.card.free.feat.2": "5 entrevues vidéo",
        "pricing.card.free.feat.3": "Questions standards",
        "pricing.card.free.feat.4": "Page carrière basique",
        "pricing.card.free.btn": "Créer un compte",

        "pricing.card.one.title": "À la carte",
        "pricing.card.one.desc": "paiement unique",
        "pricing.card.one.feat.1": "1 Affichage",
        "pricing.card.one.feat.2": "Accès 30 jours",
        "pricing.card.one.feat.3": "Entrevues vidéo illimitées",
        "pricing.card.one.feat.4": "Questions personnalisées",
        "pricing.card.one.btn": "Acheter un affichage",

        "pricing.card.pro.title": "Pro",
        "pricing.card.pro.period": "/mois",
        "pricing.card.pro.desc.1": "Facturé annuellement",
        "pricing.card.pro.desc.2": "ou 139$ si mensuel",
        "pricing.card.pro.feat.1": "Affichages illimités",
        "pricing.card.pro.feat.2": "50 entrevues vidéo actives (possibilité d'archiver les vidéos)",
        "pricing.card.pro.feat.3": "Outils collaboratifs",
        "pricing.card.pro.feat.4": "Marque employeur",
        "pricing.card.pro.btn": "Démarrer maintenant",

        "pricing.card.expert.title": "Expert",
        "pricing.card.expert.period": "/mois",
        "pricing.card.expert.desc.1": "Facturé annuellement",
        "pricing.card.expert.desc.2": "ou 199$ si mensuel",
        "pricing.card.expert.feat.1": "Affichages illimités",
        "pricing.card.expert.feat.2": "200 entrevues vidéo actives (possibilité d'archiver les vidéos)",
        "pricing.card.expert.feat.3": "Support prioritaire",
        "pricing.card.expert.btn": "Démarrer maintenant",

        "compare.title": "Comparatif des fonctionnalités",
        "compare.col.feature": "Fonctionnalité",
        "compare.col.free": "Gratuit",
        "compare.col.one": "À la carte",
        "compare.col.pro": "Pro",
        "compare.col.expert": "Expert",
        "compare.row.active": "Affichages actifs",
        "compare.row.candidates": "Candidats par affichage",
        "compare.row.video": "Entrevues vidéo disponibles",
        "compare.row.questions": "Questions personnalisées",
        "compare.row.brand": "Marque employeur",
        "compare.row.collab": "Outils collaboratifs",
        "compare.row.invite": "Inviter des collègues",
        "compare.row.branding": "Marque blanche",
        "compare.row.api": "Accès API / ATS",
        "compare.row.support": "Support",

        "compare.val.unlimited": "Illimité",
        "compare.val.chat": "Email",
        "compare.val.dedicated": "Dédié (Téléphone)",
        "compare.val.one_30": "1 (30 jours)",

        "faq.title": "Questions Fréquentes",
        "faq.q1": "Puis-je annuler à tout moment ?",
        "faq.a1": "Oui, l'offre Pro est sans engagement. Vous pouvez arrêter votre abonnement en un clic depuis votre espace. Aucun frais caché.",
        "faq.q2": "Qu'est-ce qu'une candidature vidéo ?",
        "faq.a2": "C'est une réponse enregistrée par le candidat dans le cadre d'une entrevue de présélection en vidéo (webcam ou téléphone). Vous définissez les questions, ils répondent quand ils veulent. Vous gagnez un temps précieux en évitant les premiers appels téléphoniques.",

        "guide.title": "Maîtrisez votre <br><span style=\"color:var(--primary)\">entrevue vidéo de présélection</span>.",
        "guide.subtitle": "L'entrevue vidéo de présélection différée est votre chance de briller sans le stress du direct. Voici 6 conseils pour réussir votre présentation.",
        "guide.tip1.title": "Soignez l'éclairage",
        "guide.tip1.text": "La lumière doit venir de face (face à une fenêtre est idéal). Évitez le contre-jour qui rend votre visage sombre.",
        "guide.tip2.title": "Vérifiez le son",
        "guide.tip2.text": "Trouvez un endroit calme. Utilisez des écouteurs avec micro pour une clarté optimale et éviter l'écho.",
        "guide.tip3.title": "Cadrez votre décor",
        "guide.tip3.text": "Optez pour un fond neutre et rangé. Évitez les distractions visuelles derrière vous.",
        "guide.tip4.title": "Regardez la caméra",
        "guide.tip4.text": "Pour donner l'impression de regarder le recruteur dans les yeux, regardez la lentille, pas votre écran.",
        "guide.tip5.title": "Habillez-vous pro",
        "guide.tip5.text": "Même à distance, la première impression compte. Adoptez une tenue professionnelle, comme pour un entretien physique.",
        "guide.tip6.title": "Soyez concis",
        "guide.tip6.text": "Structurez vos réponses. Une réponse claire et directe de 60 secondes vaut mieux qu'un long discours flou.",
        "guide.checklist.title": "Checklist avant de démarrer",
        "guide.checklist.item1": "Mon téléphone ou ordinateur est chargé à 100%",
        "guide.checklist.item2": "J'ai mis mon téléphone en mode \"Ne pas déranger\"",
        "guide.checklist.item3": "J'ai un verre d'eau à portée de main",
        "guide.checklist.item4": "J'ai testé ma connexion internet",
        "guide.checklist.item5": "Je suis seul(e) et au calme pour les 15 prochaines minutes",
        "guide.cta.title": "Prêt à essayer ?",
        "guide.cta.text": "Vérifiez que tout fonctionne techniquement avant de lancer votre première candidature.",
        "guide.cta.btn": "Tester ma configuration",

        "jobs.title": "Espace Candidat",
        "jobs.subtitle": "Gérez vos entrevues vidéo de présélection et votre profil.",
        "jobs.invite.title": "Vous avez été invité à une entrevue de présélection ?",
        "jobs.invite.text": "Connectez-vous pour enregistrer vos réponses vidéo de présélection ou compléter votre profil.",
        "jobs.invite.login": "Se connecter",
        "jobs.invite.signup": "Créer un compte",

        "nav.brand": "Solution RH",
        "nav.how": "Comment ça marche",
        "nav.pricing": "Tarifs",
        "nav.space": "Espace Candidats",

        "login.hero.title": "Content de vous <br><span class=\"highlight\">revoir !</span>",
        "login.hero.subtitle": "Accédez à votre espace pour gérer vos entrevues vidéo de présélection et vos candidatures en toute simplicité.",
        "login.hero.usp.fast": "Rapide",
        "login.hero.usp.secure": "Sécurisé",
        "login.hero.usp.human": "Humain",
        "login.title": "Connexion",
        "login.email.label": "Courriel",
        "login.email.placeholder": "ton@email.com",
        "login.password.label": "Mot de passe",
        "login.password.placeholder": "••••••••",
        "login.submit": "Se connecter",
        "login.forgot_password": "Mot de passe oublié ?",
        "login.signup_prompt": "Pas encore de compte ?",
        "login.signup_link": "S'inscrire gratuitement",
        "login.oauth.divider": "ou",
        "login.oauth.google": "Continuer avec Google"
    },
    en: {
        "nav.service": "Our plans",
        "nav.guide": "Candidate guide",
        "nav.gestion": "Admin",
        "nav.recruiter": "Recruiter Login",
        "nav.candidate": "Candidate Login",
        "nav.login": "Log In",
        "nav.logout": "Log Out",

        "hero.title": "Pre-selection video interviewing <br><span class=\"highlight\">made simple</span> for everyone.",
        "hero.subtitle": "Save time on recruiting. Invite candidates to pre-selection video interviews, receive their responses, and choose the best talent in minutes.",
        "hero.cta.start": "Start Now",
        "hero.cta.demo": "Watch Demo",
        "hero.trust": "+2000 recruiters trust us",

        "stats.faster": "Faster",
        "stats.matches": "Better Matches",
        "stats.video": "Pre-selection interviews",

        "benefits.title": "Why switch to video?",
        "benefits.subtitle": "A modern method for more human and efficient recruitment.",

        "benefit.1.title": "Pre-selection video interview",
        "benefit.1.text": "Define 3 key questions. Candidates answer in video as part of a pre-selection interview, allowing you to judge fluency and cultural fit immediately.",

        "benefit.2.title": "Time Saving",
        "benefit.2.text": "No need to call 50 candidates. Watch responses at your own pace and only invite profiles that convinced you.",

        "benefit.3.title": "HR Collaboration",
        "benefit.3.text": "Share video profiles with managers in one click. Make collegiate decisions based on concrete evidence, not paper.",

        "preview.title": "Discover the Experience",
        "preview.subtitle": "Employer Dashboard: Shortlist in a blink of an eye",

        "card.1.title": "Centralized Management",
        "card.1.text": "Visualize all your candidates at a glance.",
        "card.2.title": "Intuitive Player",
        "card.2.text": "Watch, annotate, and evaluate video responses.",
        "card.3.title": "Recruitment Data",
        "card.3.text": "Track your KPIs and optimize your process.",

        "footer.service": "Our plans",
        "footer.guide": "Candidate guide",
        "footer.legal": "Legal",
        "footer.privacy": "Privacy Policy",
        "footer.terms": "Terms of Use",
        "footer.contact": "Contact",
        "footer.rights": "All rights reserved.",
        "footer.proudly": "❤️<br>Proudly human",

        "pricing.title": "Identify the perfect candidate without wasting a second.",
        "pricing.subtitle": "Simple and transparent pricing to modernize your recruitment process. Start for free, scale as needed.",

        "pricing.card.free.title": "Discovery",
        "pricing.card.free.desc": "To try risk-free",
        "pricing.card.free.feat.1": "1 Active listing",
        "pricing.card.free.feat.2": "5 video interviews",
        "pricing.card.free.feat.3": "Standard Questions",
        "pricing.card.free.feat.4": "Basic Career Page",
        "pricing.card.free.btn": "Create Account",

        "pricing.card.one.title": "À la carte",
        "pricing.card.one.desc": "one-time payment",
        "pricing.card.one.feat.1": "1 Job Listing",
        "pricing.card.one.feat.2": "30 Days Access",
        "pricing.card.one.feat.3": "Unlimited video interviews",
        "pricing.card.one.feat.4": "Custom Questions",
        "pricing.card.one.btn": "Buy one listing",

        "pricing.card.pro.title": "Pro",
        "pricing.card.pro.period": "/mo",
        "pricing.card.pro.desc.1": "Billed annually",
        "pricing.card.pro.desc.2": "or $139 if monthly",
        "pricing.card.pro.feat.1": "Unlimited listings",
        "pricing.card.pro.feat.2": "50 active video interviews (videos can be archived)",
        "pricing.card.pro.feat.3": "Collaborative Tools",
        "pricing.card.pro.feat.4": "Employer Branding",
        "pricing.card.pro.btn": "Start Now",

        "pricing.card.expert.title": "Expert",
        "pricing.card.expert.period": "/mo",
        "pricing.card.expert.desc.1": "Billed annually",
        "pricing.card.expert.desc.2": "or $199 if monthly",
        "pricing.card.expert.feat.1": "Unlimited listings",
        "pricing.card.expert.feat.2": "200 active video interviews (videos can be archived)",
        "pricing.card.expert.feat.3": "Priority Support",
        "pricing.card.expert.btn": "Start Now",

        "compare.title": "Feature Comparison",
        "compare.col.feature": "Feature",
        "compare.col.free": "Free",
        "compare.col.one": "À la carte",
        "compare.col.pro": "Pro",
        "compare.col.expert": "Expert",
        "compare.row.active": "Active Listings",
        "compare.row.candidates": "Candidates per listing",
        "compare.row.video": "Video interviews available",
        "compare.row.questions": "Custom Questions",
        "compare.row.brand": "Employer Brand",
        "compare.row.collab": "Collaborative Tools",
        "compare.row.invite": "Invite Colleagues",
        "compare.row.branding": "Whitelabel",
        "compare.row.api": "API / ATS Access",
        "compare.row.support": "Support",

        "compare.val.unlimited": "Unlimited",
        "compare.val.chat": "Email",
        "compare.val.dedicated": "Dedicated (Phone)",
        "compare.val.one_30": "1 (30 days)",

        "faq.title": "Frequently Asked Questions",
        "faq.q1": "Can I cancel anytime?",
        "faq.a1": "Yes, the Pro plan is no-commitment. You can stop your subscription in one click from your account. No hidden fees.",
        "faq.q2": "What is a video application?",
        "faq.a2": "It's a response recorded by the candidate as part of a pre-selection video interview (webcam or phone). You define the questions, they answer when they want. You save precious time by avoiding initial phone screenings.",

        "guide.title": "Master your <br><span style=\"color:var(--primary)\">pre-selection video interview</span>.",
        "guide.subtitle": "The delayed pre-selection video interview is your chance to shine without the stress of live interaction. Here are 6 tips to succeed in your presentation.",
        "guide.tip1.title": "Care for lighting",
        "guide.tip1.text": "Light should come from the front (facing a window is ideal). Avoid backlighting which makes your face dark.",
        "guide.tip2.title": "Check the sound",
        "guide.tip2.text": "Find a quiet place. Use headphones with a mic for optimal clarity and to avoid echo.",
        "guide.tip3.title": "Frame your background",
        "guide.tip3.text": "Choose a neutral and tidy background. Avoid visual distractions behind you.",
        "guide.tip4.title": "Look at the camera",
        "guide.tip4.text": "To give the impression of looking the recruiter in the eye, look at the lens, not your screen.",
        "guide.tip5.title": "Dress professionally",
        "guide.tip5.text": "Even from a distance, first impressions count. Wear professional attire, just as for a physical interview.",
        "guide.tip6.title": "Be concise",
        "guide.tip6.text": "Structure your answers. A clear and direct 60-second response is better than a long, vague speech.",
        "guide.checklist.title": "Checklist before starting",
        "guide.checklist.item1": "My phone or computer is 100% charged",
        "guide.checklist.item2": "I've put my phone on \"Do Not Disturb\" mode",
        "guide.checklist.item3": "I have a glass of water handy",
        "guide.checklist.item4": "I've tested my internet connection",
        "guide.checklist.item5": "I am alone and in a quiet place for the next 15 minutes",
        "guide.cta.title": "Ready to try?",
        "guide.cta.text": "Check that everything works technically before launching your first application.",
        "guide.cta.btn": "Test my setup",

        "jobs.title": "Candidate Space",
        "jobs.subtitle": "Manage your pre-selection video interviews and your profile.",
        "jobs.invite.title": "Have you been invited to a pre-selection interview?",
        "jobs.invite.text": "Log in to record your pre-selection video responses or complete your profile.",
        "jobs.invite.login": "Log In",
        "jobs.invite.signup": "Create Account",

        "nav.brand": "HR Solution",
        "nav.how": "How it works",
        "nav.pricing": "Pricing",
        "nav.space": "Candidate Space",

        "login.hero.title": "Good to see you <br><span class=\"highlight\">again!</span>",
        "login.hero.subtitle": "Access your space to manage your pre-selection video interviews and applications with ease.",
        "login.hero.usp.fast": "Fast",
        "login.hero.usp.secure": "Secure",
        "login.hero.usp.human": "Human",
        "login.title": "Login",
        "login.email.label": "Email",
        "login.email.placeholder": "your@email.com",
        "login.password.label": "Password",
        "login.password.placeholder": "••••••••",
        "login.submit": "Log In",
        "login.forgot_password": "Forgot password?",
        "login.signup_prompt": "Don't have an account?",
        "login.signup_link": "Sign up for free",
        "login.oauth.divider": "or",
        "login.oauth.google": "Continue with Google"
    }
};

function getLanguage() {
    const stored = localStorage.getItem('language');
    if (stored) return stored;

    // Default to browser language, fallback to English if not French
    const browserLang = navigator.language || navigator.userLanguage;
    return browserLang.startsWith('fr') ? 'fr' : 'en';
}

function setLanguage(lang) {
    localStorage.setItem('language', lang);
    updateContent();
    updateToggleState();
    document.documentElement.lang = lang;
}

function updateContent() {
    const lang = getLanguage();
    const dict = translations[lang] || translations.fr;

    // data-i18n → innerHTML (ou placeholder pour input/textarea)
    document.querySelectorAll('[data-i18n]').forEach(function (el) {
        const key = el.getAttribute('data-i18n');
        if (!dict[key]) return;
        if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
            el.placeholder = dict[key];
        } else {
            el.innerHTML = dict[key];
        }
    });

    // data-i18n-placeholder → placeholder explicite
    document.querySelectorAll('[data-i18n-placeholder]').forEach(function (el) {
        const key = el.getAttribute('data-i18n-placeholder');
        if (dict[key]) el.placeholder = dict[key];
    });

    // data-i18n-title → title
    document.querySelectorAll('[data-i18n-title]').forEach(function (el) {
        const key = el.getAttribute('data-i18n-title');
        if (dict[key]) el.title = dict[key];
    });

    // Update toggles text
    document.querySelectorAll('.lang-toggle').forEach(function (toggle) {
        toggle.textContent = lang === 'fr' ? 'EN' : 'FR';
    });
}

function toggleLanguage() {
    const current = getLanguage();
    const next = current === 'fr' ? 'en' : 'fr';
    setLanguage(next);
}

// Init
document.addEventListener('DOMContentLoaded', () => {
    // Initial content load
    const lang = getLanguage();
    document.documentElement.lang = lang;
    updateContent();

    // Add event listeners to all toggle buttons
    document.querySelectorAll('.lang-toggle').forEach(btn => {
        btn.addEventListener('click', (e) => {
            e.preventDefault();
            toggleLanguage();
        });
    });
});
